/* file : level.pl */


addExp(X,Add):-
            retract(exp(X,CurrentExp)), NewExp is CurrentExp + Add,
            asserta(exp(X,NewExp)), write("Congratulation!!! you got"),
            write(Add), write("Exp"), nl, levelUp(X,NewExp).

levelUp(X,NewExp):-
             retract(level(X,Level)), retract(exp(X,_)),
             (Level < 1, NewExp >= 100 -> NewLevel is 1, ResetExp is 0,
             addStat(X,NewLevel),
             asserta(level(X,NewLevel)), asserta(exp(X,ResetExp))),
             write("Congratulation!!! you just growed up to level"), write(NewLevel);

             retract(level(X,Level)), retract(exp(X,_)),
             (Level < 2, NewExp >= 200 -> NewLevel is 2, ResetExp is 0,
             addStat(X,NewLevel),
             asserta(level(X,NewLevel)), asserta(exp(X,ResetExp))),
             write("Congratulation!!! you just growed up to level"), write(NewLevel);

             retract(level(X,Level)), retract(exp(X,_)),
             (Level < 3, NewExp >= 400 -> NewLevel is 3, ResetExp is 0,
             addStat(X,NewLevel),
             asserta(level(X,NewLevel)), asserta(exp(X,ResetExp))),
             write("Congratulation!!! you just growed up to level"), write(NewLevel);

             retract(level(X,Level)), retract(exp(X,_)),
             (Level < 4, NewExp >= 800 -> NewLevel is 4, ResetExp is 0,
             addStat(X,NewLevel),
             asserta(level(X,NewLevel)), asserta(exp(X,ResetExp))),
             write("Congratulation!!! you just growed up to level"), write(NewLevel);

             retract(level(X,Level)), retract(exp(X,_)),
             (Level < 5, NewExp >= 1600 -> NewLevel is 5, ResetExp is 0,
             addStat(X,NewLevel),
             asserta(level(X,NewLevel)), asserta(exp(X,ResetExp))),
             write("Congratulation!!! you just growed up to level"), write(NewLevel);

             retract(level(X,Level)), retract(exp(X,_)),
             (Level < 6, NewExp >= 3200 -> NewLevel is 6, ResetExp is 0,
             addStat(X,NewLevel),
             asserta(level(X,NewLevel)), asserta(exp(X,ResetExp))),
             write("You just hit to the max level");           

             retract(level(X,Level)),
             (Level =:= 6, NewExp >= 20000 -> NewLevel is 99,
             addStat(X,NewLevel),
             asserta(level(X,NewLevel))),
             write("Opss you reach this level, you will the first who became a legendary farmer");

             write("Don't stop grow up, there is a present for the diligent people").

addStat(X,NewLevel):-
            (NewLevel =:= 1 -> 
            retract(farmingexp(X,ExpFarming)), ExpFarming is ExpFarming + 10, 
            asserta(farmingexp(X,ExpFarming)), levelUpFarming(X,ExpFarming),
            retract(fishingexp(X,ExpFishing)), ExpFishing is ExpFishing + 10, 
            asserta(fishingexp(X,ExpFishing))), levelUpFishing(X,ExpFishing),
            retract(rachingexp(X,ExpRanching)), ExpRanching is ExpRanching + 10, 
            asserta(rachingexp(X,ExpRanching))), levelUpRanching(X,ExpRanching).






levelUpFarming(X,ExpFarm):-
            retract(farminglevel(X,FarmLvl)), retract(farmingexp(X,_)),
            FarmLvl < 1, ExpFarm >= 50 -> NewFarmLvl is 1, ExpFarm is 0,
            asserta(farminglevel(X,NewFarmLvl)), asserta(farmingexp(X,ExpFarm)),
            write("Your farming level just growed up");
            
            retract(farminglevel(X,FarmLvl)), retract(farmingexp(X,_)),
            FarmLvl < 2, ExpFarm =:= 100 -> NewFarmLvl is 2, ExpFarm is 0,
            asserta(farminglevel(X,NewFarmLvl)), asserta(farmingexp(X,ExpFarm)),
            write("Your farming level just growed up");
            
            retract(farminglevel(X,FarmLvl)), retract(farmingexp(X,_)),
            FarmLvl < 3, ExpFarm =:= 200 -> NewFarmLvl is 3, ExpFarm is 0,
            asserta(farminglevel(X,NewFarmLvl)), asserta(farmingexp(X,ExpFarm)),
            write("Your farming level just growed up");
            
            retract(farminglevel(X,FarmLvl)), retract(farmingexp(X,_)),
            FarmLvl =:= 3, ExpFarm =:= 800 -> NewFarmLvl is 99,
            asserta(farminglevel(X,NewFarmLvl)), 
            write("Congrats!!! you just hit the hidden level of farming").


levelUpFishing(X,ExpFishing):-
            retract(fishinglevel(X,FarmLvl)), retract(fishingexp(X,_)),
            FishingLvl < 1, ExpFishing =:= 50 -> NewFishingLvl is 1, ExpFishing is 0,
            asserta(fishinglevel(X,NewFishingLvl)), asserta(fishingexp(X,ExpFarm)),
            write("Your fishing level just growed up");
            
            retract(fishinglevel(X,FarmLvl)), retract(fishingexp(X,_)),
            FishingLvl < 2, ExpFishing =:= 100 -> NewFishingLvl is 2, ExpFishing is 0,
            asserta(fishinglevel(X,NewFishingLvl)), asserta(fishingexp(X,ExpFarm));
            
            retract(fishinglevel(X,FarmLvl)), retract(fishingexp(X,_)),
            FishingLvl < 3, ExpFishing =:= 200 -> NewFishingLvl is 3, ExpFishing is 0,
            asserta(fishinglevel(X,NewFishingLvl)), asserta(fishingexp(X,ExpFarm)),
            write("Your fishing level just growed up");
            
            retract(fishinglevel(X,FarmLvl)), retract(fishingexp(X,_)),
            FishingLvl =:= 3, ExpFishing =:= 800 -> NewFishingLvl is 99,
            asserta(fishinglevel(X,NewFishingLvl)), asserta(fishingexp(X,ExpFarm)),
            write("Congrats!!! you just hit the hidden level of farming").

levelUpRanching(X,ExpRanching):-
            retract(ranchinglevel(X,FarmLvl)), retract(ranchingexp(X,_)),
            RanchingLvl < 1, ExpRanching =:= 50 -> NewRanchingLvl is 1, ExpRanching is 0,
            asserta(ranchinglevel(X,NewRanchingLvl)), asserta(ranchingexp(X,ExpRanching)),
            write("Your raching level just growed up");
            
            retract(ranchinglevel(X,FarmLvl)), retract(ranchingexp(X,_)),
            RanchingLvl < 1, ExpRanching =:= 50 -> NewRanchingLvl is 2, ExpRanching is 0,
            asserta(ranchinglevel(X,NewRanchingLvl)), asserta(ranchingexp(X,ExpRanching)),
            write("Your raching level just growed up");
            
            retract(ranchinglevel(X,FarmLvl)), retract(ranchingexp(X,_)),
            RanchingLvl < 1, ExpRanching =:= 50 -> NewRanchingLvl is 3, ExpRanching is 0,
            asserta(ranchinglevel(X,NewRanchingLvl)), asserta(ranchingexp(X,ExpRanching)),
            write("Your raching level just growed up");

            retract(ranchinglevel(X,FarmLvl)), retract(ranchingexp(X,_)),
            RanchingLvl < 1, ExpRanching =:= 50 -> NewRanchingLvl is 99, 
            asserta(ranchinglevel(X,NewRanchingLvl)), asserta(ranchingexp(X,ExpRanching)),
            write("Congrats!!! you just hit the hidden level of raching").




/*
createFarmer(X) :-  asserta(class(X, farmer)),
                    asserta(farmingexp(X, 20)),
                    asserta(fishingexp(X, 0)),
                    asserta(ranchingexp(X, 0)),
                    asserta(exp(X, 0)),
                    asserta(level(X, 0)),
                    asserta(farminglevel(X, 0)),
                    asserta(fishinglevel(X, 0)),
                    asserta(ranchinglevel(X, 0)),
                    asserta(gold(X, 1000)),
                    initInventoryFarmer.
*/
